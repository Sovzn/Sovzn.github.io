<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="theme-color" content="#6200ee"><meta name="author" content="Sovzn"><meta name="copyright" content="Sovzn"><meta name="generator" content="Hexo 5.3.0"><meta name="theme" content="hexo-theme-yun"><title>å¤šè¡¨æ“ä½œ | å¤§å¸ˆå…„</title><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Noto+Serif+SC:wght@900&amp;display=swap" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/star-markdown-css@0.1.22/dist/yun/yun-markdown.min.css"><script src="//at.alicdn.com/t/font_1140697_ed8vp4atwoj.js" async></script><script src="https://cdn.jsdelivr.net/npm/scrollreveal/dist/scrollreveal.min.js" defer></script><script>document.addEventListener("DOMContentLoaded", () => {
  [".post-card",".post-content img"].forEach((target)=> {
    ScrollReveal().reveal(target);
  })
});
</script><link id="light-prism-css" rel="stylesheet" href="https://cdn.jsdelivr.net/npm/prismjs@1.20.0/themes/prism.css" media="(prefers-color-scheme: light)"><link id="dark-prism-css" rel="stylesheet" href="https://cdn.jsdelivr.net/npm/prismjs@1.20.0/themes/prism-tomorrow.css" media="(prefers-color-scheme: dark)"><link rel="shortcut icon" type="image/svg+xml" href="/yun.svg"><link rel="mask-icon" href="/yun.svg" color="#6200ee"><link rel="alternate icon" href="/yun.ico"><link rel="preload" href="/css/hexo-theme-yun.css" as="style"><link rel="preload" href="/js/utils.js" as="script"><link rel="preload" href="/js/hexo-theme-yun.js" as="script"><link rel="prefetch" href="/js/sidebar.js" as="script"><link rel="preconnect" href="https://cdn.jsdelivr.net" crossorigin><link rel="stylesheet" href="/css/hexo-theme-yun.css"><script id="yun-config">
    const Yun = window.Yun || {};
    window.CONFIG = {"hostname":"sovzn.github.io","root":"/","title":"å¤§å¸ˆå…„çš„å°ç ´ç«™","version":"1.3.0","mode":"auto","copycode":true,"anonymous_image":"https://cdn.jsdelivr.net/gh/YunYouJun/cdn/img/avatar/none.jpg","say":{"api":"https://v1.hitokoto.cn","hitokoto":true},"local_search":{"path":"/search.xml"},"fireworks":{"colors":["102, 167, 221","62, 131, 225","33, 78, 194"]}};
  </script><meta name="description" content="JPA å¤šè¡¨æ“ä½œ  è¡¨å…³ç³»   ä¸€å¯¹ä¸€ ä¸€å¯¹å¤š ä¸€çš„ä¸€æ–¹ï¼šä¸»è¡¨ å¤šçš„ä¸€æ–¹ï¼šä»è¡¨ å¤–é”®ï¼šéœ€è¦åœ¨ä»è¡¨ä¸Šæ–°å»ºä¸€åˆ—ä½œä¸ºå¤–é”®ï¼Œå®ƒçš„å–å€¼æ¥æºäºä¸»è¡¨çš„ä¸»é”®ã€‚   å¤šå¯¹å¤šï¼š ä¸­é—´è¡¨ï¼šä¸­é—´è¡¨æœ€å°‘åº”è¯¥æœ‰ä¸¤ä¸ªå­—æ®µç»„æˆï¼Œè¿™ä¸¤ä¸ªå­—æ®µä½œä¸ºå¤–é”®æŒ‡å‘ä¸¤å¼ è¡¨çš„ä¸»é”®ï¼Œåˆç»„æˆäº†è”åˆä¸»é”®ã€‚     æ¡ˆä¾‹ï¼šå®¢æˆ·ï¼ˆä¸€æ–¹ï¼‰å’Œè”ç³»äººï¼ˆå¤šæ–¹ï¼‰  æ˜ å°„çš„æ³¨è§£è¯´æ˜ï¼ˆä¸€å¯¹å¤šï¼‰@OneToMany:   ä½œç”¨ï¼šå»ºç«‹ä¸€å¯¹å¤šçš„å…³ç³»æ˜ å°„   å±æ€§ï¼š  targ">
<meta property="og:type" content="article">
<meta property="og:title" content="å¤šè¡¨æ“ä½œ">
<meta property="og:url" content="http://sovzn.github.io/2021/07/15/%E5%A4%9A%E8%A1%A8%E6%93%8D%E4%BD%9C/index.html">
<meta property="og:site_name" content="å¤§å¸ˆå…„">
<meta property="og:description" content="JPA å¤šè¡¨æ“ä½œ  è¡¨å…³ç³»   ä¸€å¯¹ä¸€ ä¸€å¯¹å¤š ä¸€çš„ä¸€æ–¹ï¼šä¸»è¡¨ å¤šçš„ä¸€æ–¹ï¼šä»è¡¨ å¤–é”®ï¼šéœ€è¦åœ¨ä»è¡¨ä¸Šæ–°å»ºä¸€åˆ—ä½œä¸ºå¤–é”®ï¼Œå®ƒçš„å–å€¼æ¥æºäºä¸»è¡¨çš„ä¸»é”®ã€‚   å¤šå¯¹å¤šï¼š ä¸­é—´è¡¨ï¼šä¸­é—´è¡¨æœ€å°‘åº”è¯¥æœ‰ä¸¤ä¸ªå­—æ®µç»„æˆï¼Œè¿™ä¸¤ä¸ªå­—æ®µä½œä¸ºå¤–é”®æŒ‡å‘ä¸¤å¼ è¡¨çš„ä¸»é”®ï¼Œåˆç»„æˆäº†è”åˆä¸»é”®ã€‚     æ¡ˆä¾‹ï¼šå®¢æˆ·ï¼ˆä¸€æ–¹ï¼‰å’Œè”ç³»äººï¼ˆå¤šæ–¹ï¼‰  æ˜ å°„çš„æ³¨è§£è¯´æ˜ï¼ˆä¸€å¯¹å¤šï¼‰@OneToMany:   ä½œç”¨ï¼šå»ºç«‹ä¸€å¯¹å¤šçš„å…³ç³»æ˜ å°„   å±æ€§ï¼š  targ">
<meta property="og:locale" content="en_US">
<meta property="article:published_time" content="2021-07-15T13:53:50.000Z">
<meta property="article:modified_time" content="2021-07-20T12:23:07.621Z">
<meta property="article:author" content="Sovzn">
<meta property="article:tag" content="Jpa">
<meta name="twitter:card" content="summary"><script src="/js/ui/mode.js"></script></head><body><script defer src="https://cdn.jsdelivr.net/npm/animejs@latest/anime.min.js"></script><script defer src="/js/ui/fireworks.js"></script><canvas class="fireworks"></canvas><div class="container"><a class="sidebar-toggle hty-icon-button" id="menu-btn"><div class="hamburger hamburger--spin" type="button"><span class="hamburger-box"><span class="hamburger-inner"></span></span></div></a><div class="sidebar-toggle sidebar-overlay"></div><aside class="sidebar"><script src="/js/sidebar.js"></script><ul class="sidebar-nav"><li class="sidebar-nav-item sidebar-nav-toc hty-icon-button sidebar-nav-active" data-target="post-toc-wrap" title="Table of Contents"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-list-ordered"></use></svg></li><li class="sidebar-nav-item sidebar-nav-overview hty-icon-button" data-target="site-overview-wrap" title="Overview"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-passport-line"></use></svg></li></ul><div class="sidebar-panel" id="site-overview-wrap"><div class="site-info fix-top"><a class="site-author-avatar" href="/about/" title="Sovzn"><img width="96" loading="lazy" src="/Yun.png" alt="Sovzn"><span class="site-author-status" title="æ°¸è¿œç›¸ä¿¡ç¾å¥½çš„äº‹æƒ…å³å°†å‘ç”Ÿ">ğŸ˜Š</span></a><div class="site-author-name"><a href="/about/">Sovzn</a></div><a class="site-name" href="/about/site.html">å¤§å¸ˆå…„</a><sub class="site-subtitle"></sub><div class="site-desciption">æˆ‘åªæ‹¥æœ‰ä½ çš„æœˆå…‰,æˆ‘è¦æŠŠå®ƒå½“ä½œéª„é˜³ã€‚</div></div><nav class="site-state"><a class="site-state-item hty-icon-button icon-home" href="/" title="Home"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-home-4-line"></use></svg></span></a><div class="site-state-item"><a href="/archives/" title="Archives"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-archive-line"></use></svg></span><span class="site-state-item-count">86</span></a></div><div class="site-state-item"><a href="/categories/" title="Categories"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-folder-2-line"></use></svg></span><span class="site-state-item-count">29</span></a></div><div class="site-state-item"><a href="/tags/" title="Tags"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-price-tag-3-line"></use></svg></span><span class="site-state-item-count">17</span></a></div><a class="site-state-item hty-icon-button" target="_blank" rel="noopener" href="https://yun.yunyoujun.cn" title="æ–‡æ¡£"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-settings-line"></use></svg></span></a></nav><hr style="margin-bottom:0.5rem"><div class="links-of-author"><a class="links-of-author-item hty-icon-button" rel="noopener" title="RSS" target="_blank" style="color:orange"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-rss-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="http://wpa.qq.com/msgrd?v=3&amp;uin=&amp;site=qq&amp;menu=yes" title="QQ" target="_blank" style="color:#12B7F5"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-qq-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" title="GitHub" target="_blank" style="color:#6e5494"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-github-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" title="å¾®åš" target="_blank" style="color:#E6162D"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-weibo-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" title="è±†ç“£" target="_blank" style="color:#007722"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-douban-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" title="ç½‘æ˜“äº‘éŸ³ä¹" target="_blank" style="color:#C20C0C"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-netease-cloud-music-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" title="çŸ¥ä¹" target="_blank" style="color:#0084FF"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-zhihu-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" title="å“”å“©å“”å“©" target="_blank" style="color:#FF8EB3"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-bilibili-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" title="Twitter" target="_blank" style="color:#1da1f2"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-twitter-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" title="Telegram Channel" target="_blank" style="color:#0088CC"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-telegram-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" title="E-Mail" target="_blank" style="color:#8E71C1"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-mail-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" title="Travelling" target="_blank" style="color:var(--hty-text-color)"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-send-plane-2-line"></use></svg></a></div><hr style="margin:0.5rem 1rem"><div class="links"><a class="links-item hty-icon-button" href="/null" title="æˆ‘çš„å°ä¼™ä¼´ä»¬" style="color:dodgerblue"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-genderless-line"></use></svg></a></div><br><a class="links-item hty-icon-button" id="toggle-mode-btn" href="javascript:;" title="Mode" style="color: #f1cb64"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-contrast-2-line"></use></svg></a></div><div class="sidebar-panel sidebar-panel-active" id="post-toc-wrap"><div class="post-toc"><div class="post-toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#JPA-%E5%A4%9A%E8%A1%A8%E6%93%8D%E4%BD%9C"><span class="toc-number">1.</span> <span class="toc-text">JPA å¤šè¡¨æ“ä½œ</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%98%A0%E5%B0%84%E7%9A%84%E6%B3%A8%E8%A7%A3%E8%AF%B4%E6%98%8E%EF%BC%88%E4%B8%80%E5%AF%B9%E5%A4%9A%EF%BC%89"><span class="toc-number">1.1.</span> <span class="toc-text">æ˜ å°„çš„æ³¨è§£è¯´æ˜ï¼ˆä¸€å¯¹å¤šï¼‰</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%80%E5%AF%B9%E5%A4%9A%E6%93%8D%E4%BD%9C"><span class="toc-number">1.2.</span> <span class="toc-text">ä¸€å¯¹å¤šæ“ä½œ</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BF%9D%E5%AD%98"><span class="toc-number">1.2.1.</span> <span class="toc-text">ä¿å­˜</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%A0%E9%99%A4"><span class="toc-number">1.2.2.</span> <span class="toc-text">åˆ é™¤</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%80%E5%AF%B9%E5%A4%9A%E7%BA%A7%E8%81%94%E6%93%8D%E4%BD%9C"><span class="toc-number">1.2.3.</span> <span class="toc-text">ä¸€å¯¹å¤šçº§è”æ“ä½œ</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%A4%9A%E5%AF%B9%E5%A4%9A%E6%93%8D%E4%BD%9C"><span class="toc-number">1.3.</span> <span class="toc-text">å¤šå¯¹å¤šæ“ä½œ</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%98%A0%E5%B0%84%E7%9A%84%E6%B3%A8%E8%A7%A3%E8%AF%B4%E6%98%8E%EF%BC%88%E5%A4%9A%E5%AF%B9%E5%A4%9A%EF%BC%89"><span class="toc-number">1.4.</span> <span class="toc-text">æ˜ å°„çš„æ³¨è§£è¯´æ˜ï¼ˆå¤šå¯¹å¤šï¼‰</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BF%9D%E5%AD%98-1"><span class="toc-number">1.4.1.</span> <span class="toc-text">ä¿å­˜</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%A0%E9%99%A4-1"><span class="toc-number">1.4.2.</span> <span class="toc-text">åˆ é™¤</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%A4%9A%E8%A1%A8%E6%9F%A5%E8%AF%A2"><span class="toc-number">1.5.</span> <span class="toc-text">å¤šè¡¨æŸ¥è¯¢</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AF%B9%E8%B1%A1%E5%AF%BC%E8%88%AA%E6%9F%A5%E8%AF%A2"><span class="toc-number">1.5.1.</span> <span class="toc-text">å¯¹è±¡å¯¼èˆªæŸ¥è¯¢</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%BB%B6%E8%BF%9F%E5%92%8C%E7%AB%8B%E5%8D%B3%E5%8A%A0%E8%BD%BD"><span class="toc-number">1.5.2.</span> <span class="toc-text">å»¶è¿Ÿå’Œç«‹å³åŠ è½½</span></a></li></ol></li></ol></li></ol></div></div></div></aside><main class="sidebar-translate" id="content"><div id="post"><article class="post-block" itemscope itemtype="https://schema.org/Article"><link itemprop="mainEntityOfPage" href="http://Sovzn.github.io/2021/07/15/%E5%A4%9A%E8%A1%A8%E6%93%8D%E4%BD%9C/"><span hidden itemprop="author" itemscope itemtype="https://schema.org/Person"><meta itemprop="name" content="Sovzn"><meta itemprop="description"></span><span hidden itemprop="publisher" itemscope itemtype="https://schema.org/Organization"><meta itemprop="name" content="å¤§å¸ˆå…„"></span><header class="post-header"><h1 class="post-title" itemprop="name headline">å¤šè¡¨æ“ä½œ</h1><div class="post-meta"><div class="post-time" style="display:inline-block"><span class="post-meta-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-calendar-line"></use></svg></span> <time title="Created: 2021-07-15 21:53:50" itemprop="dateCreated datePublished" datetime="2021-07-15T21:53:50+08:00">2021-07-15</time><span class="post-meta-divider">-</span><span class="post-meta-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-calendar-2-line"></use></svg></span> <time title="Modified: 2021-07-20 20:23:07" itemprop="dateModified" datetime="2021-07-20T20:23:07+08:00">2021-07-20</time></div><div class="post-classify"><span class="post-category"> <span class="post-meta-item-icon" style="margin-right:3px;"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-folder-line"></use></svg></span><span itemprop="about" itemscope itemtype="https://schema.org/Thing"><a class="category" href="/categories/Spring/" style="--text-color:var(--hty-text-color)" itemprop="url" rel="index"><span itemprop="text">Spring</span></a></span> > <span itemprop="about" itemscope itemtype="https://schema.org/Thing"><a class="category" href="/categories/Spring/Data/" style="--text-color:var(--hty-text-color)" itemprop="url" rel="index"><span itemprop="text">Data</span></a></span></span><span class="post-tag"><span class="post-meta-divider">-</span><a class="tag" href="/tags/Jpa/" style="--text-color:var(--hty-text-color)"><span class="post-meta-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-price-tag-3-line"></use></svg></span><span class="tag-name">Jpa</span></a></span></div></div></header><section class="post-body" itemprop="articleBody"><div class="post-content markdown-body" style="--smc-primary:#6200ee;"><h1 id="JPA-å¤šè¡¨æ“ä½œ"><a href="#JPA-å¤šè¡¨æ“ä½œ" class="headerlink" title="JPA å¤šè¡¨æ“ä½œ"></a>JPA å¤šè¡¨æ“ä½œ</h1><blockquote>
<p> è¡¨å…³ç³»</p>
</blockquote>
<ul>
<li>ä¸€å¯¹ä¸€</li>
<li>ä¸€å¯¹å¤š<ul>
<li>ä¸€çš„ä¸€æ–¹ï¼šä¸»è¡¨</li>
<li>å¤šçš„ä¸€æ–¹ï¼šä»è¡¨</li>
<li>å¤–é”®ï¼šéœ€è¦åœ¨ä»è¡¨ä¸Šæ–°å»ºä¸€åˆ—ä½œä¸ºå¤–é”®ï¼Œå®ƒçš„å–å€¼æ¥æºäºä¸»è¡¨çš„ä¸»é”®ã€‚</li>
</ul>
</li>
<li>å¤šå¯¹å¤šï¼š<ul>
<li>ä¸­é—´è¡¨ï¼šä¸­é—´è¡¨æœ€å°‘åº”è¯¥æœ‰ä¸¤ä¸ªå­—æ®µç»„æˆï¼Œè¿™ä¸¤ä¸ªå­—æ®µä½œä¸ºå¤–é”®æŒ‡å‘ä¸¤å¼ è¡¨çš„ä¸»é”®ï¼Œåˆç»„æˆäº†è”åˆä¸»é”®ã€‚</li>
</ul>
</li>
</ul>
<blockquote>
<p>æ¡ˆä¾‹ï¼šå®¢æˆ·ï¼ˆä¸€æ–¹ï¼‰å’Œè”ç³»äººï¼ˆå¤šæ–¹ï¼‰</p>
</blockquote>
<h2 id="æ˜ å°„çš„æ³¨è§£è¯´æ˜ï¼ˆä¸€å¯¹å¤šï¼‰"><a href="#æ˜ å°„çš„æ³¨è§£è¯´æ˜ï¼ˆä¸€å¯¹å¤šï¼‰" class="headerlink" title="æ˜ å°„çš„æ³¨è§£è¯´æ˜ï¼ˆä¸€å¯¹å¤šï¼‰"></a>æ˜ å°„çš„æ³¨è§£è¯´æ˜ï¼ˆä¸€å¯¹å¤šï¼‰</h2><p><strong>@OneToMany:</strong></p>
<p>  ä½œç”¨ï¼šå»ºç«‹ä¸€å¯¹å¤šçš„å…³ç³»æ˜ å°„</p>
<p>  å±æ€§ï¼š</p>
<ul>
<li>targetEntityClassï¼šæŒ‡å®šå¤šçš„ä¸€æ–¹çš„ç±»çš„å­—èŠ‚ç </li>
<li>mappedByï¼šæŒ‡å®šä»è¡¨å®ä½“ç±»ä¸­å¼•ç”¨ä¸»è¡¨å¯¹è±¡çš„åç§°ã€‚</li>
<li>cascadeï¼šæŒ‡å®šè¦ä½¿ç”¨çš„çº§è”æ“ä½œ</li>
<li>fetchï¼šæŒ‡å®šæ˜¯å¦é‡‡ç”¨å»¶è¿ŸåŠ è½½</li>
<li>orphanRemovalï¼šæ˜¯å¦ä½¿ç”¨å­¤å„¿åˆ é™¤</li>
</ul>
<p><strong>@ManyToOne</strong></p>
<p>  ä½œç”¨ï¼šå»ºç«‹å¤šå¯¹ä¸€çš„å…³ç³»</p>
<p>  å±æ€§ï¼š</p>
<ul>
<li>targetEntityClassï¼šæŒ‡å®šä¸€çš„ä¸€æ–¹å®ä½“ç±»å­—èŠ‚ç </li>
<li>cascadeï¼šæŒ‡å®šè¦ä½¿ç”¨çš„çº§è”æ“ä½œ</li>
<li>fetchï¼šæŒ‡å®šæ˜¯å¦é‡‡ç”¨å»¶è¿ŸåŠ è½½</li>
<li>optionalï¼šå…³è”æ˜¯å¦å¯é€‰ã€‚å¦‚æœè®¾ç½®ä¸ºfalseï¼Œåˆ™å¿…é¡»å§‹ç»ˆå­˜åœ¨éç©ºå…³ç³»ã€‚</li>
</ul>
<p><strong>@JoinColumn</strong></p>
<p>   ä½œç”¨ï¼šç”¨äºå®šä¹‰ä¸»é”®å­—æ®µå’Œå¤–é”®å­—æ®µçš„å¯¹åº”å…³ç³»ã€‚</p>
<p>   å±æ€§ï¼š</p>
<ul>
<li>nameï¼šæŒ‡å®šå¤–é”®å­—æ®µçš„åç§°</li>
<li>referencedColumnNameï¼šæŒ‡å®šå¼•ç”¨ä¸»è¡¨çš„ä¸»é”®å­—æ®µåç§°</li>
<li>uniqueï¼šæ˜¯å¦å”¯ä¸€ã€‚é»˜è®¤å€¼ä¸å”¯ä¸€</li>
<li>nullableï¼šæ˜¯å¦å…è®¸ä¸ºç©ºã€‚é»˜è®¤å€¼å…è®¸ã€‚</li>
<li>insertableï¼šæ˜¯å¦å…è®¸æ’å…¥ã€‚é»˜è®¤å€¼å…è®¸ã€‚</li>
<li>updatableï¼šæ˜¯å¦å…è®¸æ›´æ–°ã€‚é»˜è®¤å€¼å…è®¸ã€‚</li>
<li>columnDefinitionï¼šåˆ—çš„å®šä¹‰ä¿¡æ¯ã€‚</li>
</ul>
<p><strong>å®¢æˆ·ï¼š</strong></p>
<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@Entity</span><span class="token comment">//è¡¨ç¤ºå½“å‰ç±»æ˜¯ä¸€ä¸ªå®ä½“ç±»</span>
<span class="token annotation punctuation">@Table</span><span class="token punctuation">(</span>name<span class="token operator">=</span><span class="token string">"cst_customer"</span><span class="token punctuation">)</span><span class="token comment">//å»ºç«‹å½“å‰å®ä½“ç±»å’Œè¡¨ä¹‹é—´çš„å¯¹åº”å…³ç³»</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Customer</span> <span class="token keyword">implements</span> <span class="token class-name">Serializable</span> <span class="token punctuation">&#123;</span>
	
	<span class="token annotation punctuation">@Id</span><span class="token comment">//è¡¨æ˜å½“å‰ç§æœ‰å±æ€§æ˜¯ä¸»é”®</span>
	<span class="token annotation punctuation">@GeneratedValue</span><span class="token punctuation">(</span>strategy<span class="token operator">=</span><span class="token class-name">GenerationType</span><span class="token punctuation">.</span>IDENTITY<span class="token punctuation">)</span><span class="token comment">//æŒ‡å®šä¸»é”®çš„ç”Ÿæˆç­–ç•¥</span>
	<span class="token annotation punctuation">@Column</span><span class="token punctuation">(</span>name<span class="token operator">=</span><span class="token string">"cust_id"</span><span class="token punctuation">)</span><span class="token comment">//æŒ‡å®šå’Œæ•°æ®åº“è¡¨ä¸­çš„cust_idåˆ—å¯¹åº”</span>
	<span class="token keyword">private</span> <span class="token class-name">Long</span> custId<span class="token punctuation">;</span>
	<span class="token annotation punctuation">@Column</span><span class="token punctuation">(</span>name<span class="token operator">=</span><span class="token string">"cust_name"</span><span class="token punctuation">)</span><span class="token comment">//æŒ‡å®šå’Œæ•°æ®åº“è¡¨ä¸­çš„cust_nameåˆ—å¯¹åº”</span>
	<span class="token keyword">private</span> <span class="token class-name">String</span> custName<span class="token punctuation">;</span>
	<span class="token annotation punctuation">@Column</span><span class="token punctuation">(</span>name<span class="token operator">=</span><span class="token string">"cust_source"</span><span class="token punctuation">)</span><span class="token comment">//æŒ‡å®šå’Œæ•°æ®åº“è¡¨ä¸­çš„cust_sourceåˆ—å¯¹åº”</span>
	<span class="token keyword">private</span> <span class="token class-name">String</span> custSource<span class="token punctuation">;</span>
	<span class="token annotation punctuation">@Column</span><span class="token punctuation">(</span>name<span class="token operator">=</span><span class="token string">"cust_industry"</span><span class="token punctuation">)</span><span class="token comment">//æŒ‡å®šå’Œæ•°æ®åº“è¡¨ä¸­çš„cust_industryåˆ—å¯¹åº”</span>
	<span class="token keyword">private</span> <span class="token class-name">String</span> custIndustry<span class="token punctuation">;</span>
	<span class="token annotation punctuation">@Column</span><span class="token punctuation">(</span>name<span class="token operator">=</span><span class="token string">"cust_level"</span><span class="token punctuation">)</span><span class="token comment">//æŒ‡å®šå’Œæ•°æ®åº“è¡¨ä¸­çš„cust_levelåˆ—å¯¹åº”</span>
	<span class="token keyword">private</span> <span class="token class-name">String</span> custLevel<span class="token punctuation">;</span>
	<span class="token annotation punctuation">@Column</span><span class="token punctuation">(</span>name<span class="token operator">=</span><span class="token string">"cust_address"</span><span class="token punctuation">)</span><span class="token comment">//æŒ‡å®šå’Œæ•°æ®åº“è¡¨ä¸­çš„cust_addressåˆ—å¯¹åº”</span>
	<span class="token keyword">private</span> <span class="token class-name">String</span> custAddress<span class="token punctuation">;</span>
	<span class="token annotation punctuation">@Column</span><span class="token punctuation">(</span>name<span class="token operator">=</span><span class="token string">"cust_phone"</span><span class="token punctuation">)</span><span class="token comment">//æŒ‡å®šå’Œæ•°æ®åº“è¡¨ä¸­çš„cust_phoneåˆ—å¯¹åº”</span>
	<span class="token keyword">private</span> <span class="token class-name">String</span> custPhone<span class="token punctuation">;</span>
	
    <span class="token comment">//é…ç½®å®¢æˆ·å’Œè”ç³»äººçš„ä¸€å¯¹å¤šå…³ç³»</span>
    <span class="token comment">//ä½¿ç”¨æ³¨è§£å½¢å¼é…ç½®å¤šè¡¨å…³ç³»ï¼š</span>
    <span class="token comment">//        1.å£°æ˜å…³ç³»</span>
    <span class="token comment">//              @OneToMany:é…ç½®ä¸€å¯¹å¤šå…³ç³»</span>
    <span class="token comment">//                  targetEntity:å¯¹æ–¹å¯¹è±¡çš„å­—èŠ‚ç å¯¹è±¡</span>
    <span class="token comment">//        2.é…ç½®å¤–é”®(å¤šå¯¹å¤šï¼šä¸­é—´è¡¨)</span>
    <span class="token comment">//              @JoinColumn:é…ç½®å¤–é”®</span>
    <span class="token comment">//                  name:å¤–é”®å­—æ®µåç§°ï¼ˆä»è¡¨ä¸­ï¼‰</span>
    <span class="token comment">//                  referencedColumnName:å‚ç…§çš„ä¸»è¡¨çš„ä¸»é”®å­—æ®µåç§°    </span>
    <span class="token comment">//------- åœ¨å®¢æˆ·å®ä½“ç±»ä¸Šï¼ˆä¸€çš„ä¸€æ–¹ï¼‰æ·»åŠ äº†å¤–é”®é…ç½®ï¼Œæ‰€ä»¥å¯¹å®¢æˆ·è€Œè¨€ï¼Œå…·æœ‰äº†ç»´æŠ¤å¤–é”®çš„ä½œç”¨-----------</span>
  	<span class="token annotation punctuation">@OneToMany</span><span class="token punctuation">(</span>targetEntity<span class="token operator">=</span><span class="token class-name">LinkMan</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span>
    <span class="token annotation punctuation">@JoinColumn</span><span class="token punctuation">(</span>name<span class="token operator">=</span><span class="token string">"lkm_cust_id"</span><span class="token punctuation">,</span>referencedColumnName<span class="token operator">=</span><span class="token string">"cust_id"</span><span class="token punctuation">)</span>
	<span class="token keyword">private</span> <span class="token class-name">Set</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">LinkMan</span><span class="token punctuation">></span></span> linkmans <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashSet</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">LinkMan</span><span class="token punctuation">></span></span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    
    <span class="token comment">//++++++++++++++çœç•¥GetSetä»¥åŠæ„é€ æ–¹æ³•++++++++++++++++++++++++</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><strong>è”ç³»äººï¼š</strong></p>
<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@Entity</span>
<span class="token annotation punctuation">@Table</span><span class="token punctuation">(</span>name<span class="token operator">=</span><span class="token string">"cst_linkman"</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">LinkMan</span> <span class="token keyword">implements</span> <span class="token class-name">Serializable</span> <span class="token punctuation">&#123;</span>
	<span class="token annotation punctuation">@Id</span>
	<span class="token annotation punctuation">@GeneratedValue</span><span class="token punctuation">(</span>strategy<span class="token operator">=</span><span class="token class-name">GenerationType</span><span class="token punctuation">.</span>IDENTITY<span class="token punctuation">)</span>
	<span class="token annotation punctuation">@Column</span><span class="token punctuation">(</span>name<span class="token operator">=</span><span class="token string">"lkm_id"</span><span class="token punctuation">)</span>
	<span class="token keyword">private</span> <span class="token class-name">Long</span> lkmId<span class="token punctuation">;</span>
	<span class="token annotation punctuation">@Column</span><span class="token punctuation">(</span>name<span class="token operator">=</span><span class="token string">"lkm_name"</span><span class="token punctuation">)</span>
	<span class="token keyword">private</span> <span class="token class-name">String</span> lkmName<span class="token punctuation">;</span>
	<span class="token annotation punctuation">@Column</span><span class="token punctuation">(</span>name<span class="token operator">=</span><span class="token string">"lkm_gender"</span><span class="token punctuation">)</span>
	<span class="token keyword">private</span> <span class="token class-name">String</span> lkmGender<span class="token punctuation">;</span>
	<span class="token annotation punctuation">@Column</span><span class="token punctuation">(</span>name<span class="token operator">=</span><span class="token string">"lkm_phone"</span><span class="token punctuation">)</span>
	<span class="token keyword">private</span> <span class="token class-name">String</span> lkmPhone<span class="token punctuation">;</span>
	<span class="token annotation punctuation">@Column</span><span class="token punctuation">(</span>name<span class="token operator">=</span><span class="token string">"lkm_mobile"</span><span class="token punctuation">)</span>
	<span class="token keyword">private</span> <span class="token class-name">String</span> lkmMobile<span class="token punctuation">;</span>
	<span class="token annotation punctuation">@Column</span><span class="token punctuation">(</span>name<span class="token operator">=</span><span class="token string">"lkm_email"</span><span class="token punctuation">)</span>
	<span class="token keyword">private</span> <span class="token class-name">String</span> lkmEmail<span class="token punctuation">;</span>
	<span class="token annotation punctuation">@Column</span><span class="token punctuation">(</span>name<span class="token operator">=</span><span class="token string">"lkm_position"</span><span class="token punctuation">)</span>
	<span class="token keyword">private</span> <span class="token class-name">String</span> lkmPosition<span class="token punctuation">;</span>
	<span class="token annotation punctuation">@Column</span><span class="token punctuation">(</span>name<span class="token operator">=</span><span class="token string">"lkm_memo"</span><span class="token punctuation">)</span>
	<span class="token keyword">private</span> <span class="token class-name">String</span> lkmMemo<span class="token punctuation">;</span>
    <span class="token comment">//é…ç½®è”ç³»äººå’Œå®¢æˆ·çš„ä¸€å¯¹å¤šå…³ç³»</span>
    <span class="token comment">//ä½¿ç”¨æ³¨è§£å½¢å¼é…ç½®å¤šè¡¨å…³ç³»ï¼š</span>
    <span class="token comment">//        1.å£°æ˜å…³ç³»</span>
    <span class="token comment">//              @ManyToOne:é…ç½®å¤šå¯¹ä¸€å…³ç³»</span>
    <span class="token comment">//                  targetEntity:å¯¹æ–¹å¯¹è±¡çš„å­—èŠ‚ç å¯¹è±¡</span>
    <span class="token comment">//        2.é…ç½®å¤–é”®(å¤šå¯¹å¤šï¼šä¸­é—´è¡¨)</span>
    <span class="token comment">//              @JoinColumn:é…ç½®å¤–é”®</span>
    <span class="token comment">//                  name:å¤–é”®å­—æ®µåç§°ï¼ˆä»è¡¨ä¸­ï¼‰</span>
    <span class="token comment">//                  referencedColumnName:å‚ç…§çš„ä¸»è¡¨çš„ä¸»é”®å­—æ®µåç§°    </span>
    <span class="token comment">//------- åœ¨è”ç³»äººå®ä½“ç±»ä¸Šï¼ˆå¤šçš„ä¸€æ–¹ï¼‰æ·»åŠ äº†å¤–é”®é…ç½®ï¼Œæ‰€ä»¥å¯¹è”ç³»äººè€Œè¨€ï¼Œä¹Ÿå…·æœ‰äº†ç»´æŠ¤å¤–é”®çš„ä½œç”¨-------</span>
	<span class="token annotation punctuation">@ManyToOne</span><span class="token punctuation">(</span>targetEntity<span class="token operator">=</span><span class="token class-name">Customer</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span>
	<span class="token annotation punctuation">@JoinColumn</span><span class="token punctuation">(</span>name<span class="token operator">=</span><span class="token string">"lkm_cust_id"</span><span class="token punctuation">,</span>referencedColumnName<span class="token operator">=</span><span class="token string">"cust_id"</span><span class="token punctuation">)</span>
    <span class="token keyword">private</span> <span class="token class-name">Customer</span> customer<span class="token punctuation">;</span>
    <span class="token comment">//++++++++++++++çœç•¥GetSetä»¥åŠæ„é€ æ–¹æ³•++++++++++++++++++++++++</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><strong><font color='red'>æ³¨ï¼šåœ¨å®¢æˆ·å’Œè”ç³»äººä¸­éƒ½é…ç½®äº†å¤–é”®ï¼Œå¯ä»¥é€šè¿‡è”ç³»äººæ‰¾åˆ°å®¢æˆ·ï¼Œä¹Ÿå¯é€šè¿‡å®¢æˆ·æ‰¾åˆ°è”ç³»äººçš„å…³ç³»ã€‚ç§°è¿™ç§ä¸ºåŒå‘å…³ç³»ã€‚</font></strong></p>
<h2 id="ä¸€å¯¹å¤šæ“ä½œ"><a href="#ä¸€å¯¹å¤šæ“ä½œ" class="headerlink" title="ä¸€å¯¹å¤šæ“ä½œ"></a>ä¸€å¯¹å¤šæ“ä½œ</h2><h3 id="ä¿å­˜"><a href="#ä¿å­˜" class="headerlink" title="ä¿å­˜"></a>ä¿å­˜</h3><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@RunWith</span><span class="token punctuation">(</span><span class="token class-name">SpringJUnit4ClassRunner</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span>
<span class="token annotation punctuation">@ContextConfiguration</span><span class="token punctuation">(</span>locations<span class="token operator">=</span><span class="token string">"classpath:applicationContext.xml"</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">OneToManyTest</span> <span class="token punctuation">&#123;</span>

	<span class="token annotation punctuation">@Autowired</span>
	<span class="token keyword">private</span> <span class="token class-name">CustomerDao</span> customerDao<span class="token punctuation">;</span>
	
	<span class="token annotation punctuation">@Autowired</span>
	<span class="token keyword">private</span> <span class="token class-name">LinkManDao</span> linkManDao<span class="token punctuation">;</span>
	<span class="token comment">/**
	 * ä¿å­˜æ“ä½œ
	 * éœ€æ±‚:
	 * 	ä¿å­˜ä¸€ä¸ªå®¢æˆ·å’Œä¸€ä¸ªè”ç³»äºº
	 * è¦æ±‚ï¼š
	 * 	åˆ›å»ºä¸€ä¸ªå®¢æˆ·å¯¹è±¡å’Œä¸€ä¸ªè”ç³»äººå¯¹è±¡
	 *  å»ºç«‹å®¢æˆ·å’Œè”ç³»äººä¹‹é—´å…³è”å…³ç³»ï¼ˆåŒå‘ä¸€å¯¹å¤šçš„å…³è”å…³ç³»ï¼‰
	 *  å…ˆä¿å­˜å®¢æˆ·ï¼Œå†ä¿å­˜è”ç³»äºº
	 * é—®é¢˜ï¼š
	 *   å½“æˆ‘ä»¬å»ºç«‹äº†åŒå‘çš„å…³è”å…³ç³»ä¹‹åï¼Œå…ˆä¿å­˜ä¸»è¡¨ï¼Œå†ä¿å­˜ä»è¡¨æ—¶ï¼š
	 *	 ä¼šäº§ç”Ÿ2æ¡insert(åˆ†åˆ«å‘ä¸¤å¼ è¡¨ä¸­å†™å…¥ç›¸åº”æ•°æ®)å’Œ1æ¡update(æ›´æ–°å¤–é”®ï¼šä¸€çš„ä¸€æ–¹é€šè¿‡ä¸»é”®å‘å¤šçš„ä¸€æ–¹è¡¨ä¸­çš„å¤–é”®å­—æ®µå†™å…¥æ•°æ®). 
	 */</span>
	<span class="token annotation punctuation">@Test</span>
	<span class="token annotation punctuation">@Transactional</span>  <span class="token comment">//å¼€å¯äº‹åŠ¡</span>
	<span class="token annotation punctuation">@Rollback</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token comment">//è®¾ç½®ä¸ºä¸å›æ»š</span>
	<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">testAdd</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
		<span class="token class-name">Customer</span> c <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Customer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		c<span class="token punctuation">.</span><span class="token function">setCustName</span><span class="token punctuation">(</span><span class="token string">"TBDäº‘é›†ä¸­å¿ƒ"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		c<span class="token punctuation">.</span><span class="token function">setCustLevel</span><span class="token punctuation">(</span><span class="token string">"VIPå®¢æˆ·"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		c<span class="token punctuation">.</span><span class="token function">setCustSource</span><span class="token punctuation">(</span><span class="token string">"ç½‘ç»œ"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		c<span class="token punctuation">.</span><span class="token function">setCustIndustry</span><span class="token punctuation">(</span><span class="token string">"å•†ä¸šåŠå…¬"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		c<span class="token punctuation">.</span><span class="token function">setCustAddress</span><span class="token punctuation">(</span><span class="token string">"æ˜Œå¹³åŒºåŒ—ä¸ƒå®¶é•‡"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		c<span class="token punctuation">.</span><span class="token function">setCustPhone</span><span class="token punctuation">(</span><span class="token string">"010-84389340"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		
		<span class="token class-name">LinkMan</span> l <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">LinkMan</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		l<span class="token punctuation">.</span><span class="token function">setLkmName</span><span class="token punctuation">(</span><span class="token string">"TBDè”ç³»äºº"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		l<span class="token punctuation">.</span><span class="token function">setLkmGender</span><span class="token punctuation">(</span><span class="token string">"male"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		l<span class="token punctuation">.</span><span class="token function">setLkmMobile</span><span class="token punctuation">(</span><span class="token string">"13811111111"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		l<span class="token punctuation">.</span><span class="token function">setLkmPhone</span><span class="token punctuation">(</span><span class="token string">"010-34785348"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		l<span class="token punctuation">.</span><span class="token function">setLkmEmail</span><span class="token punctuation">(</span><span class="token string">"98354834@qq.com"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		l<span class="token punctuation">.</span><span class="token function">setLkmPosition</span><span class="token punctuation">(</span><span class="token string">"è€å¸ˆ"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		l<span class="token punctuation">.</span><span class="token function">setLkmMemo</span><span class="token punctuation">(</span><span class="token string">"è¿˜è¡Œå§"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">//-------ä½“ç°å®ä½“ä¹‹é—´çš„å…³è”å…³ç³»ï¼Œä¸ç„¶å®Œæˆæ·»åŠ æ“ä½œåï¼Œä»è¡¨å¤–é”®å­—æ®µä¸­ä¼šæ˜¯ä¸€ä¸ªç©ºå€¼-----------</span>
	    c<span class="token punctuation">.</span><span class="token function">getLinkMans</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>l<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//é…ç½®ä¸€åˆ°å¤šçš„å…³è”å…³ç³»ï¼ˆä¸¤è¡¨ä¿å­˜æ•°æ®åï¼Œå‘é€ä¸€æ¡updateè¯­å¥ç»™å¤–é”®èµ‹å€¼ï¼‰</span>
		<span class="token comment">//l.setCustomer(c);//é…ç½®å¤šåˆ°ä¸€çš„å…³è”å…³ç³»ï¼ˆå½“ä¿å­˜æ—¶ï¼Œå°±å·²ç»å¯¹å¤–é”®è¿›è¡Œèµ‹å€¼ï¼‰</span>
    <span class="token comment">//----------------------------------------------------------------------</span>
		linkManDao<span class="token punctuation">.</span><span class="token function">save</span><span class="token punctuation">(</span>l<span class="token punctuation">)</span><span class="token punctuation">;</span> 
        customerDao<span class="token punctuation">.</span><span class="token function">save</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span><span class="token punctuation">;</span>	   
	<span class="token punctuation">&#125;</span>	
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p> <strong>è¿è¡Œä¸Šè¿°ä»£ç å¯ä»¥å‘ç°ï¼šä¼šäº§ç”Ÿ2æ¡insertå’Œ1æ¡updateè¯­å¥ï¼ˆç”±äºä¸€çš„ä¸€æ–¹ä¼šç»´æŠ¤å¤–é”®ï¼Œå‘é€updateè¯­å¥ï¼‰ï¼Œè€Œå®é™…å¼€å‘ä¸­æˆ‘ä»¬åªéœ€è¦2æ¡insertã€‚è§£å†³æ­¤é—®é¢˜ï¼Œåªéœ€è¦åœ¨ä¸€çš„ä¸€æ–¹æ”¾å¼ƒç»´æŠ¤æƒ</strong></p>
<p><font color='red'><strong>æ”¾å¼ƒä¸€çš„ä¸€æ–¹ç»´æŠ¤æƒåªè¦å¯¹ä¸€çš„ä¸€æ–¹è¿›è¡Œå¦‚ä¸‹é…ç½®å³å¯</strong>ï¼š</font></p>
<pre class="line-numbers language-java" data-language="java"><code class="language-java">	<span class="token comment">//@OneToMany(targetEntity=LinkMan.class)</span>
    <span class="token comment">//@JoinColumn(name="lkm_cust_id",referencedColumnName="cust_id")</span>
	<span class="token comment">//private Set&lt;LinkMan> linkmans = new HashSet&lt;LinkMan>(0);</span>
    <span class="token comment">//æ”¾å¼ƒå¤–é”®è¿›è¡Œå¦‚ä¸‹é…ç½®å³å¯ï¼Œåªå£°æ˜ä¸€å¯¹å¤šçš„å…³ç³»ï¼Œä¸åšå¤šä½™çš„å¦‚ä¸Šè¿°å¤–é”®é…ç½®</span>
  	<span class="token annotation punctuation">@OneToMany</span><span class="token punctuation">(</span>mappedBy<span class="token operator">=</span><span class="token string">"customer"</span><span class="token punctuation">)</span>
<span class="token comment">//++++++++mappedByçš„ä½œç”¨å°±æ˜¯å£°æ˜ä¸€å¯¹å¤šå…³ç³»çš„æ˜ å°„å°±æ˜¯ä¾é å¤šçš„ä¸€æ–¹å®ä½“ä¸­çš„customerå±æ€§çš„æ˜ å°„å…³ç³»ã€‚+++++++</span>
	<span class="token keyword">private</span> <span class="token class-name">Set</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">LinkMan</span><span class="token punctuation">></span></span> linkmans <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashSet</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">LinkMan</span><span class="token punctuation">></span></span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="åˆ é™¤"><a href="#åˆ é™¤" class="headerlink" title="åˆ é™¤"></a>åˆ é™¤</h3><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@Autowired</span>
	<span class="token keyword">private</span> <span class="token class-name">CustomerDao</span> customerDao<span class="token punctuation">;</span>
	
	<span class="token annotation punctuation">@Test</span>
	<span class="token annotation punctuation">@Transactional</span>
	<span class="token annotation punctuation">@Rollback</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token comment">//è®¾ç½®ä¸ºä¸å›æ»š</span>
	<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">testDelete</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
		customerDao<span class="token punctuation">.</span><span class="token function">delete</span><span class="token punctuation">(</span><span class="token number">1l</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<blockquote>
<p>åˆ é™¤æ“ä½œçš„è¯´æ˜å¦‚ä¸‹ï¼š </p>
</blockquote>
<p><strong>åˆ é™¤ä»è¡¨æ•°æ®ï¼šå¯ä»¥éšæ—¶ä»»æ„åˆ é™¤ã€‚</strong> </p>
<p><strong>åˆ é™¤ä¸»è¡¨æ•°æ®ï¼š</strong></p>
<ul>
<li><p>æœ‰ä»è¡¨æ•°æ®ï¼š</p>
<p>1ã€åœ¨é»˜è®¤æƒ…å†µä¸‹ï¼Œå®ƒä¼šæŠŠå¤–é”®å­—æ®µæ›´æ–°ä¸ºnullï¼Œç„¶ååˆ é™¤ä¸»è¡¨æ•°æ®ã€‚å¦‚æœåœ¨æ•°æ®åº“çš„ä»è¡¨è¡¨ç»“æ„ä¸Šï¼Œå¤–é”®å­—æ®µæœ‰éç©ºçº¦æŸï¼Œé»˜è®¤æƒ…å†µå°±ä¼šæŠ¥é”™äº†ã€‚</p>
<p>2ã€å¦‚æœä¸»è¡¨é…ç½®äº†æ”¾å¼ƒç»´æŠ¤å…³è”å…³ç³»çš„æƒåˆ©ï¼Œåˆ™ä¸èƒ½åˆ é™¤ï¼ˆä¸å¤–é”®å­—æ®µæ˜¯å¦å…è®¸ä¸ºnullæ²¡æœ‰å…³ç³»ï¼‰å› ä¸ºå®ƒæ ¹æœ¬æ²¡æœ‰æ›´æ–°å¤–é”®å­—æ®µçš„æƒåˆ©ï¼Œ<font color='red'>å¦‚æœè¿˜æƒ³åˆ é™¤ï¼Œä½¿ç”¨çº§è”åˆ é™¤å¼•ç”¨ã€‚</font></p>
</li>
</ul>
<ul>
<li>æ²¡æœ‰ä»è¡¨æ•°æ®ï¼šéšä¾¿åˆ ï¼Œæ‰€ä»¥å¯ä»¥å…ˆåˆ é™¤ä»è¡¨æ•°æ®å†åˆ é™¤ä¸»è¡¨æ•°æ®ã€‚</li>
</ul>
<p><font color='red'>åœ¨å®é™…å¼€å‘ä¸­ï¼Œçº§è”åˆ é™¤è¯·æ…ç”¨ï¼(åœ¨ä¸€å¯¹å¤šçš„æƒ…å†µä¸‹)</font></p>
<blockquote>
<p>å¤šè¡¨æ“ä½œä¸­è¸©çš„å‘ï¼š</p>
<p>åœ¨å¤šè¡¨æ“ä½œä¸­ä¸€èˆ¬ä¸è¦ç”¨Lombokï¼Œå¦åˆ™å¯èƒ½å¯¼è‡´æ­»å¾ªç¯æ ˆæº¢å‡º</p>
</blockquote>
<h3 id="ä¸€å¯¹å¤šçº§è”æ“ä½œ"><a href="#ä¸€å¯¹å¤šçº§è”æ“ä½œ" class="headerlink" title="ä¸€å¯¹å¤šçº§è”æ“ä½œ"></a>ä¸€å¯¹å¤šçº§è”æ“ä½œ</h3><p>æŒ‡æ“ä½œä¸€ä¸ªå¯¹è±¡åŒæ—¶æ“ä½œå®ƒçš„å…³è”å¯¹è±¡ï¼Œå¦‚ï¼šçº§è”æ·»åŠ ï¼ˆæ›´æ–°ï¼‰ï¼Œçº§è”åˆ é™¤</p>
<p>å¯¹äºçº§è”æ“ä½œï¼Œåªéœ€è¦åœ¨æ˜ å°„å±æ€§ä¸Šé…ç½®çº§è”å…³ç³»cascade</p>
<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token comment">/**
	 * cascade:é…ç½®çº§è”æ“ä½œ
	 * 		CascadeType.MERGE	çº§è”æ›´æ–°
	 * 		CascadeType.PERSIST	çº§è”ä¿å­˜ï¼š
	 * 		CascadeType.REFRESH çº§è”åˆ·æ–°ï¼š
	 * 		CascadeType.REMOVE	çº§è”åˆ é™¤ï¼š
	 * 		CascadeType.ALL		åŒ…å«æ‰€æœ‰
	 */</span>
	<span class="token annotation punctuation">@OneToMany</span><span class="token punctuation">(</span>mappedBy<span class="token operator">=</span><span class="token string">"customer"</span><span class="token punctuation">,</span>cascade<span class="token operator">=</span><span class="token class-name">CascadeType</span><span class="token punctuation">.</span>ALL<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>  <strong>é€šè¿‡ä¸Šè¿°é…ç½®å°±å¯ä»¥å¯¹å®¢æˆ·å®ä½“è¿›è¡Œçº§è”æ“ä½œäº†</strong></p>
<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@RunWith</span><span class="token punctuation">(</span><span class="token class-name">SpringJUnit4ClassRunner</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span>
<span class="token annotation punctuation">@ContextConfiguration</span><span class="token punctuation">(</span>locations<span class="token operator">=</span><span class="token string">"classpath:applicationContext.xml"</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">OneToManyTest</span> <span class="token punctuation">&#123;</span>

	<span class="token annotation punctuation">@Autowired</span>
	<span class="token keyword">private</span> <span class="token class-name">CustomerDao</span> customerDao<span class="token punctuation">;</span>
	<span class="token annotation punctuation">@Autowired</span>
	<span class="token keyword">private</span> <span class="token class-name">LinkManDao</span> linkManDao<span class="token punctuation">;</span>
    
	<span class="token annotation punctuation">@Test</span>
	<span class="token annotation punctuation">@Transactional</span>  <span class="token comment">//å¼€å¯äº‹åŠ¡</span>
	<span class="token annotation punctuation">@Rollback</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token comment">//è®¾ç½®ä¸ºä¸å›æ»š</span>
	<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">testJIlianAdd</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
		<span class="token class-name">Customer</span> c <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Customer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		c<span class="token punctuation">.</span><span class="token function">setCustName</span><span class="token punctuation">(</span><span class="token string">"TBDäº‘é›†ä¸­å¿ƒ"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	
		
		<span class="token class-name">LinkMan</span> l <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">LinkMan</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		l<span class="token punctuation">.</span><span class="token function">setLkmName</span><span class="token punctuation">(</span><span class="token string">"TBDè”ç³»äºº"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		
	    c<span class="token punctuation">.</span><span class="token function">getLinkMans</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>l<span class="token punctuation">)</span><span class="token punctuation">;</span>
		l<span class="token punctuation">.</span><span class="token function">setCustomer</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//çº§è”æ·»åŠ ï¼šä¿å­˜å®¢æˆ·çš„åŒæ—¶ä¿å­˜ä»–çš„æ‰€æœ‰è”ç³»äºº</span>
		customerDao<span class="token punctuation">.</span><span class="token function">save</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">&#125;</span>
    
     
	<span class="token annotation punctuation">@Test</span>
	<span class="token annotation punctuation">@Transactional</span>  <span class="token comment">//å¼€å¯äº‹åŠ¡</span>
	<span class="token annotation punctuation">@Rollback</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token comment">//è®¾ç½®ä¸ºä¸å›æ»š</span>
	<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">testJIlianDel</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token comment">//çº§è”åˆ é™¤ï¼šåˆ é™¤IDä¸º1å®¢æˆ·çš„åŒæ—¶åˆ é™¤ä»–çš„æ‰€æœ‰è”ç³»äºº</span>
		customerDao<span class="token punctuation">.</span><span class="token function">delete</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="å¤šå¯¹å¤šæ“ä½œ"><a href="#å¤šå¯¹å¤šæ“ä½œ" class="headerlink" title="å¤šå¯¹å¤šæ“ä½œ"></a>å¤šå¯¹å¤šæ“ä½œ</h2><blockquote>
<p>æ¡ˆä¾‹ï¼šç”¨æˆ·å’Œè§’è‰²</p>
</blockquote>
<h2 id="æ˜ å°„çš„æ³¨è§£è¯´æ˜ï¼ˆå¤šå¯¹å¤šï¼‰"><a href="#æ˜ å°„çš„æ³¨è§£è¯´æ˜ï¼ˆå¤šå¯¹å¤šï¼‰" class="headerlink" title="æ˜ å°„çš„æ³¨è§£è¯´æ˜ï¼ˆå¤šå¯¹å¤šï¼‰"></a>æ˜ å°„çš„æ³¨è§£è¯´æ˜ï¼ˆå¤šå¯¹å¤šï¼‰</h2><p><strong>@ManyToMany</strong></p>
<p>â€‹    ä½œç”¨ï¼šç”¨äºæ˜ å°„å¤šå¯¹å¤šå…³ç³»</p>
<p>â€‹    å±æ€§ï¼š</p>
<ul>
<li>cascadeï¼šé…ç½®çº§è”æ“ä½œã€‚</li>
<li>fetchï¼šé…ç½®æ˜¯å¦é‡‡ç”¨å»¶è¿ŸåŠ è½½ã€‚</li>
<li>targetEntityï¼šé…ç½®ç›®æ ‡çš„å®ä½“ç±»ã€‚æ˜ å°„å¤šå¯¹å¤šçš„æ—¶å€™ä¸ç”¨å†™ã€‚</li>
</ul>
<p><strong>@JoinTable</strong></p>
<p>  ä½œç”¨ï¼šé’ˆå¯¹ä¸­é—´è¡¨çš„é…ç½®</p>
<p>  å±æ€§ï¼š</p>
<pre><code>  - nameï¼šé…ç½®ä¸­é—´è¡¨çš„åç§°
  - &lt;font color=&#39;cornflowerblue&#39;&gt;joinColumnsï¼šä¸­é—´è¡¨çš„å¤–é”®å­—æ®µå…³è”`å½“å‰å®ä½“ç±»`æ‰€å¯¹åº”è¡¨çš„ä¸»é”®å­—æ®µ        &lt;/font&gt;                 
  - &lt;font color=&#39;cornflowerblue&#39;&gt;inverseJoinColumnï¼šä¸­é—´è¡¨çš„å¤–é”®å­—æ®µå…³è”`å¯¹æ–¹å®ä½“ç±»è¡¨`çš„ä¸»é”®å­—æ®µ&lt;/font&gt;</code></pre>
<p><strong>@JoinColumn</strong></p>
<p>  ä½œç”¨ï¼šç”¨äºå®šä¹‰ä¸»é”®å­—æ®µå’Œå¤–é”®å­—æ®µçš„å¯¹åº”å…³ç³»ã€‚</p>
<p>  å±æ€§ï¼š</p>
<pre><code>  - nameï¼šæŒ‡å®šå¤–é”®å­—æ®µçš„åç§°
  - referencedColumnNameï¼šæŒ‡å®šå¼•ç”¨ä¸»è¡¨çš„ä¸»é”®å­—æ®µåç§°
  - uniqueï¼šæ˜¯å¦å”¯ä¸€ã€‚é»˜è®¤å€¼ä¸å”¯ä¸€
  - nullableï¼šæ˜¯å¦å…è®¸ä¸ºç©ºã€‚é»˜è®¤å€¼å…è®¸ã€‚
  - insertableï¼šæ˜¯å¦å…è®¸æ’å…¥ã€‚é»˜è®¤å€¼å…è®¸ã€‚
  - updatableï¼šæ˜¯å¦å…è®¸æ›´æ–°ã€‚é»˜è®¤å€¼å…è®¸ã€‚
  - columnDefinitionï¼šåˆ—çš„å®šä¹‰ä¿¡æ¯ã€‚</code></pre>
<p><strong>ç”¨æˆ·å®ä½“ï¼š</strong></p>
<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@Entity</span>
<span class="token annotation punctuation">@Table</span><span class="token punctuation">(</span>name<span class="token operator">=</span><span class="token string">"sys_user"</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SysUser</span> <span class="token keyword">implements</span> <span class="token class-name">Serializable</span> <span class="token punctuation">&#123;</span>
	
	<span class="token annotation punctuation">@Id</span>
	<span class="token annotation punctuation">@GeneratedValue</span><span class="token punctuation">(</span>strategy<span class="token operator">=</span><span class="token class-name">GenerationType</span><span class="token punctuation">.</span>IDENTITY<span class="token punctuation">)</span>
	<span class="token annotation punctuation">@Column</span><span class="token punctuation">(</span>name<span class="token operator">=</span><span class="token string">"user_id"</span><span class="token punctuation">)</span>
	<span class="token keyword">private</span> <span class="token class-name">Long</span> userId<span class="token punctuation">;</span>
	<span class="token annotation punctuation">@Column</span><span class="token punctuation">(</span>name<span class="token operator">=</span><span class="token string">"user_code"</span><span class="token punctuation">)</span>
	<span class="token keyword">private</span> <span class="token class-name">String</span> userCode<span class="token punctuation">;</span>
	<span class="token annotation punctuation">@Column</span><span class="token punctuation">(</span>name<span class="token operator">=</span><span class="token string">"user_name"</span><span class="token punctuation">)</span>
	<span class="token keyword">private</span> <span class="token class-name">String</span> userName<span class="token punctuation">;</span>
	<span class="token annotation punctuation">@Column</span><span class="token punctuation">(</span>name<span class="token operator">=</span><span class="token string">"user_password"</span><span class="token punctuation">)</span>
	<span class="token keyword">private</span> <span class="token class-name">String</span> userPassword<span class="token punctuation">;</span>
	<span class="token annotation punctuation">@Column</span><span class="token punctuation">(</span>name<span class="token operator">=</span><span class="token string">"user_state"</span><span class="token punctuation">)</span>
	<span class="token keyword">private</span> <span class="token class-name">String</span> userState<span class="token punctuation">;</span>
	
	<span class="token comment">//å¤šå¯¹å¤šå…³ç³»æ˜ å°„</span>
	<span class="token annotation punctuation">@ManyToMany</span><span class="token punctuation">(</span>mappedBy<span class="token operator">=</span><span class="token string">"users"</span><span class="token punctuation">)</span><span class="token comment">//mappedByæ”¾å¼ƒç»´æŠ¤æƒï¼Œå› ä¸ºå¦‚æœä¸¤ä¸ªå®ä½“éƒ½è¿›è¡Œäº†ä¸­é—´è¡¨çš„é…ç½®ï¼Œåœ¨è¿›è¡Œ</span>
    <span class="token comment">//æ·»åŠ æ“ä½œæ—¶ä¼šæŠ¥é”™ï¼Œå› ä¸ºä¸¤ä¸ªå®ä½“éƒ½å…·æœ‰ä¸­é—´è¡¨çš„ç»´æŠ¤æƒï¼Œéƒ½æƒ³å‘ä¸­é—´è¡¨ä¸­æ’å…¥æ•°æ®ï¼Œæ‰€ä»¥æŠ¥é”™ï¼Œä¸»é”®é‡å¤ã€‚ä¸­é—´è¡¨     //ä¸­ä¸¤ä¸ªå¤–é”®å­—æ®µçš„å€¼çš„æ’å…¥ï¼Œç”±ä¸€ä¸ªå®ä½“é€šè¿‡å¤šå¯¹å¤šæ˜ å°„å…³ç³»å®Œæˆå³å¯ã€‚</span>
 	<span class="token keyword">private</span> <span class="token class-name">Set</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">SysRole</span><span class="token punctuation">></span></span> roles <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashSet</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">SysRole</span><span class="token punctuation">></span></span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    
    <span class="token comment">//++++++++++++++çœç•¥GetSetä»¥åŠæ„é€ æ–¹æ³•++++++++++++++++++++++++</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><strong>è§’è‰²å®ä½“:</strong></p>
<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@Entity</span>
<span class="token annotation punctuation">@Table</span><span class="token punctuation">(</span>name<span class="token operator">=</span><span class="token string">"sys_role"</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SysRole</span> <span class="token keyword">implements</span> <span class="token class-name">Serializable</span> <span class="token punctuation">&#123;</span>
	
	<span class="token annotation punctuation">@Id</span>
	<span class="token annotation punctuation">@GeneratedValue</span><span class="token punctuation">(</span>strategy<span class="token operator">=</span><span class="token class-name">GenerationType</span><span class="token punctuation">.</span>IDENTITY<span class="token punctuation">)</span>
	<span class="token annotation punctuation">@Column</span><span class="token punctuation">(</span>name<span class="token operator">=</span><span class="token string">"role_id"</span><span class="token punctuation">)</span>
	<span class="token keyword">private</span> <span class="token class-name">Long</span> roleId<span class="token punctuation">;</span>
	<span class="token annotation punctuation">@Column</span><span class="token punctuation">(</span>name<span class="token operator">=</span><span class="token string">"role_name"</span><span class="token punctuation">)</span>
	<span class="token keyword">private</span> <span class="token class-name">String</span> roleName<span class="token punctuation">;</span>
	<span class="token annotation punctuation">@Column</span><span class="token punctuation">(</span>name<span class="token operator">=</span><span class="token string">"role_memo"</span><span class="token punctuation">)</span>
	<span class="token keyword">private</span> <span class="token class-name">String</span> roleMemo<span class="token punctuation">;</span>
	
	<span class="token comment">//å¤šå¯¹å¤šå…³ç³»æ˜ å°„</span>
	<span class="token annotation punctuation">@ManyToMany</span><span class="token punctuation">(</span>targetEntity<span class="token operator">=</span><span class="token class-name">SysRole</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span>
	<span class="token annotation punctuation">@JoinTable</span><span class="token punctuation">(</span>name<span class="token operator">=</span><span class="token string">"user_role_rel"</span><span class="token punctuation">,</span><span class="token comment">//ä¸­é—´è¡¨çš„åç§°</span>
	 <span class="token comment">//ä¸­é—´è¡¨user_role_relå­—æ®µå…³è”sys_roleè¡¨çš„ä¸»é”®å­—æ®µrole_id</span>
	 joinColumns<span class="token operator">=</span><span class="token punctuation">&#123;</span><span class="token annotation punctuation">@JoinColumn</span><span class="token punctuation">(</span>name<span class="token operator">=</span><span class="token string">"role_id"</span><span class="token punctuation">,</span>referencedColumnName<span class="token operator">=</span><span class="token string">"role_id"</span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
	 <span class="token comment">//ä¸­é—´è¡¨user_role_relçš„å­—æ®µå…³è”sys_userè¡¨çš„ä¸»é”®user_id</span>
	 inverseJoinColumns<span class="token operator">=</span><span class="token punctuation">&#123;</span><span class="token annotation punctuation">@JoinColumn</span><span class="token punctuation">(</span>name<span class="token operator">=</span><span class="token string">"user_id"</span><span class="token punctuation">,</span>referencedColumnName<span class="token operator">=</span><span class="token string">"user_id"</span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span>
	<span class="token punctuation">)</span>
	<span class="token keyword">private</span> <span class="token class-name">Set</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">SysUser</span><span class="token punctuation">></span></span> users <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashSet</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">SysUser</span><span class="token punctuation">></span></span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    
     <span class="token comment">//++++++++++++++çœç•¥GetSetä»¥åŠæ„é€ æ–¹æ³•++++++++++++++++++++++++</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>ğŸ¤£<strong>çº§è”æ·»åŠ æ“ä½œä¸ä¸€å¯¹å¤šåŒç†</strong></p>
<h3 id="ä¿å­˜-1"><a href="#ä¿å­˜-1" class="headerlink" title="ä¿å­˜"></a>ä¿å­˜</h3><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@Autowired</span>
<span class="token keyword">private</span> <span class="token class-name">UserDao</span> userDao<span class="token punctuation">;</span>

<span class="token annotation punctuation">@Autowired</span>
<span class="token keyword">private</span> <span class="token class-name">RoleDao</span> roleDao<span class="token punctuation">;</span>
<span class="token comment">/**
 * é—®é¢˜ï¼š
 *  åœ¨ä¿å­˜æ—¶ï¼Œä¼šå‡ºç°ä¸»é”®é‡å¤çš„é”™è¯¯ï¼Œå› ä¸ºéƒ½æ˜¯è¦å¾€ä¸­é—´è¡¨ä¸­ä¿å­˜æ•°æ®é€ æˆçš„ã€‚
 * è§£å†³åŠæ³•ï¼š
 * 	è®©ä»»æ„ä¸€æ–¹æ”¾å¼ƒç»´æŠ¤å…³è”å…³ç³»çš„æƒåˆ©
 */</span>
<span class="token annotation punctuation">@Test</span>
<span class="token annotation punctuation">@Transactional</span>  <span class="token comment">//å¼€å¯äº‹åŠ¡</span>
<span class="token annotation punctuation">@Rollback</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token comment">//è®¾ç½®ä¸ºä¸å›æ»š</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
	<span class="token comment">//åˆ›å»ºå¯¹è±¡</span>
	<span class="token class-name">SysUser</span> u1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SysUser</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	u1<span class="token punctuation">.</span><span class="token function">setUserName</span><span class="token punctuation">(</span><span class="token string">"ç”¨æˆ·1"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token class-name">SysRole</span> r1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SysRole</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	r1<span class="token punctuation">.</span><span class="token function">setRoleName</span><span class="token punctuation">(</span><span class="token string">"è§’è‰²1"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
       <span class="token class-name">SysRole</span> r2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SysRole</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	r2<span class="token punctuation">.</span><span class="token function">setRoleName</span><span class="token punctuation">(</span><span class="token string">"è§’è‰²2"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token comment">//å»ºç«‹å…³è”å…³ç³»</span>
	u1<span class="token punctuation">.</span><span class="token function">getRoles</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>r1<span class="token punctuation">)</span><span class="token punctuation">;</span>
       u1<span class="token punctuation">.</span><span class="token function">getRoles</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>r2<span class="token punctuation">)</span><span class="token punctuation">;</span>
       r2<span class="token punctuation">.</span><span class="token function">getUsers</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>u1<span class="token punctuation">)</span><span class="token punctuation">;</span>
	r1<span class="token punctuation">.</span><span class="token function">getUsers</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>u1<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token comment">//ä¿å­˜</span>
	roleDao<span class="token punctuation">.</span><span class="token function">save</span><span class="token punctuation">(</span>r1<span class="token punctuation">)</span><span class="token punctuation">;</span>
       roleDao<span class="token punctuation">.</span><span class="token function">save</span><span class="token punctuation">(</span>r2<span class="token punctuation">)</span><span class="token punctuation">;</span>
	userDao<span class="token punctuation">.</span><span class="token function">save</span><span class="token punctuation">(</span>u1<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="åˆ é™¤-1"><a href="#åˆ é™¤-1" class="headerlink" title="åˆ é™¤"></a>åˆ é™¤</h3><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@Autowired</span>
<span class="token keyword">private</span> <span class="token class-name">UserDao</span> userDao<span class="token punctuation">;</span>
<span class="token comment">/**
 * åˆ é™¤æ“ä½œ
 * 	åœ¨å¤šå¯¹å¤šçš„åˆ é™¤æ—¶ï¼ŒåŒå‘çº§è”åˆ é™¤æ ¹æœ¬ä¸èƒ½é…ç½®
 * ç¦ç”¨
 *	å¦‚æœé…äº†çš„è¯ï¼Œå¦‚æœæ•°æ®ä¹‹é—´æœ‰ç›¸äº’å¼•ç”¨å…³ç³»ï¼Œå¯èƒ½ä¼šæ¸…ç©ºæ‰€æœ‰æ•°æ®
 */</span>
<span class="token annotation punctuation">@Test</span>
<span class="token annotation punctuation">@Transactional</span>
<span class="token annotation punctuation">@Rollback</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token comment">//è®¾ç½®ä¸ºä¸å›æ»š</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">testDelete</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
	userDao<span class="token punctuation">.</span><span class="token function">delete</span><span class="token punctuation">(</span><span class="token number">1l</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="å¤šè¡¨æŸ¥è¯¢"><a href="#å¤šè¡¨æŸ¥è¯¢" class="headerlink" title="å¤šè¡¨æŸ¥è¯¢"></a>å¤šè¡¨æŸ¥è¯¢</h2><h3 id="å¯¹è±¡å¯¼èˆªæŸ¥è¯¢"><a href="#å¯¹è±¡å¯¼èˆªæŸ¥è¯¢" class="headerlink" title="å¯¹è±¡å¯¼èˆªæŸ¥è¯¢"></a>å¯¹è±¡å¯¼èˆªæŸ¥è¯¢</h3><p>æŸ¥è¯¢ä¸€ä¸ªå¯¹è±¡çš„æ—¶å€™ï¼Œé€šè¿‡æ­¤å¯¹è±¡ä¸€å¹¶æŸ¥è¯¢å‡ºå®ƒçš„å…³è”å¯¹è±¡ï¼ˆå‰ææ˜¯è®¾ç½®äº†å…³è”å…³ç³»ï¼‰</p>
<p>å¦‚ä¸Šè¿°çš„å®¢æˆ·ä¸è”ç³»äººçš„ä¾‹å­ï¼š</p>
<p>æŸ¥è¯¢ä¸€ä¸ªå®¢æˆ·ï¼Œè·å–è¯¥å®¢æˆ·ä¸‹çš„æ‰€æœ‰è”ç³»äºº</p>
<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@Autowired</span>
	<span class="token keyword">private</span> <span class="token class-name">CustomerDao</span> customerDao<span class="token punctuation">;</span>
	
	<span class="token annotation punctuation">@Test</span>
	<span class="token comment">//ç”±äºæ˜¯åœ¨javaä»£ç ä¸­æµ‹è¯•ï¼Œä¸ºäº†è§£å†³no sessioné—®é¢˜ï¼Œå°†æ“ä½œé…ç½®åˆ°åŒä¸€ä¸ªäº‹åŠ¡ä¸­</span>
	<span class="token annotation punctuation">@Transactional</span> 
	<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">testFind</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
		<span class="token class-name">Customer</span> customer <span class="token operator">=</span> customerDao<span class="token punctuation">.</span><span class="token function">findOne</span><span class="token punctuation">(</span><span class="token number">5l</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token class-name">Set</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">LinkMan</span><span class="token punctuation">></span></span> linkMans <span class="token operator">=</span> customer<span class="token punctuation">.</span><span class="token function">getLinkMans</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//å¯¹è±¡å¯¼èˆªæŸ¥è¯¢</span>
		<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token class-name">LinkMan</span> linkMan <span class="token operator">:</span> linkMans<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  			<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>linkMan<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">&#125;</span>
	<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>æŸ¥è¯¢ä¸€ä¸ªè”ç³»äººï¼Œè·å–è¯¥è”ç³»äººæ‰€å¯¹åº”çš„å®¢æˆ·</p>
 <pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@Autowired</span>
	<span class="token keyword">private</span> <span class="token class-name">LinkManDao</span> linkManDao<span class="token punctuation">;</span>
	
	
	<span class="token annotation punctuation">@Test</span>
	<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">testFind</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
		<span class="token class-name">LinkMan</span> linkMan <span class="token operator">=</span> linkManDao<span class="token punctuation">.</span><span class="token function">findOne</span><span class="token punctuation">(</span><span class="token number">4l</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token class-name">Customer</span> customer <span class="token operator">=</span> linkMan<span class="token punctuation">.</span><span class="token function">getCustomer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//å¯¹è±¡å¯¼èˆªæŸ¥è¯¢</span>
		<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>customer<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="å»¶è¿Ÿå’Œç«‹å³åŠ è½½"><a href="#å»¶è¿Ÿå’Œç«‹å³åŠ è½½" class="headerlink" title="å»¶è¿Ÿå’Œç«‹å³åŠ è½½"></a>å»¶è¿Ÿå’Œç«‹å³åŠ è½½</h3><p><strong>é—®é¢˜1ï¼šæˆ‘ä»¬æŸ¥è¯¢å®¢æˆ·æ—¶ï¼Œè¦ä¸è¦æŠŠè”ç³»äººæŸ¥è¯¢å‡ºæ¥ï¼Ÿ</strong> </p>
<p>åˆ†æï¼šå¦‚æœæˆ‘ä»¬ä¸æŸ¥çš„è¯ï¼Œåœ¨ç”¨çš„æ—¶å€™è¿˜è¦è‡ªå·±å†™ä»£ç ï¼Œè°ƒç”¨æ–¹æ³•å»æŸ¥è¯¢ã€‚å¦‚æœæˆ‘ä»¬æŸ¥å‡ºæ¥çš„ï¼Œä¸ä½¿ç”¨æ—¶åˆä¼šç™½ç™½çš„æµªè´¹äº†æœåŠ¡å™¨å†…å­˜ã€‚</p>
<p><font color='red'>è§£å†³ï¼šé‡‡ç”¨å»¶è¿ŸåŠ è½½çš„æ€æƒ³ã€‚é€šè¿‡é…ç½®çš„æ–¹å¼æ¥è®¾å®šå½“æˆ‘ä»¬åœ¨éœ€è¦ä½¿ç”¨æ—¶ï¼Œå‘èµ·çœŸæ­£çš„æŸ¥è¯¢ã€‚</font></p>
<p>é…ç½®æ–¹å¼ï¼š</p>
<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token comment">/**
	 * åœ¨å®¢æˆ·å¯¹è±¡çš„@OneToManyæ³¨è§£ä¸­æ·»åŠ fetchå±æ€§
	 * 		FetchType.EAGER	ï¼šç«‹å³åŠ è½½
	 * 		FetchType.LAZY	ï¼šå»¶è¿ŸåŠ è½½
	 */</span>
	<span class="token annotation punctuation">@OneToMany</span><span class="token punctuation">(</span>mappedBy<span class="token operator">=</span><span class="token string">"customer"</span><span class="token punctuation">,</span>fetch<span class="token operator">=</span><span class="token class-name">FetchType</span><span class="token punctuation">.</span>EAGER<span class="token punctuation">)</span>
	<span class="token keyword">private</span> <span class="token class-name">Set</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">LinkMan</span><span class="token punctuation">></span></span> linkMans <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashSet</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">></span></span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@Autowired</span>
	<span class="token keyword">private</span> <span class="token class-name">CustomerDao</span> customerDao<span class="token punctuation">;</span>
	
	<span class="token annotation punctuation">@Test</span>

	<span class="token annotation punctuation">@Transactional</span> 
	<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">testFind</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token comment">//å½“ä½¿ç”¨å»¶è¿ŸåŠ è½½(é»˜è®¤)çš„æ—¶å€™</span>
        <span class="token comment">//è°ƒç”¨getæ–¹æ³•è·å–å…³è”å¯¹è±¡æ—¶ï¼Œå¹¶ä¸ä¼šç«‹å³å‘èµ·æŸ¥è¯¢ï¼Œè€Œæ˜¯åœ¨ä½¿ç”¨å…³è”å¯¹è±¡æ—¶æ‰ä¼šæŸ¥è¯¢</span>
		<span class="token class-name">Customer</span> customer <span class="token operator">=</span> customerDao<span class="token punctuation">.</span><span class="token function">findOne</span><span class="token punctuation">(</span><span class="token number">5l</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//ä»…ä»…å‘èµ·æŸ¥è¯¢å®¢æˆ·ç›¸å…³å±æ€§çš„SQLè¯­å¥</span>
		<span class="token class-name">Set</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">LinkMan</span><span class="token punctuation">></span></span> linkMans <span class="token operator">=</span> customer<span class="token punctuation">.</span><span class="token function">getLinkMans</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//å¦‚æœæ˜¯å»¶è¿ŸåŠ è½½ï¼Œè°ƒç”¨getæ—¶ä¸ä¼šç«‹å³æŠŠæ‰€æœ‰ //è”ç³»äººæŸ¥å‡ºï¼Œè€Œæ˜¯åœ¨å¦‚ä¸‹é¢è¯­å¥è¦ä½¿ç”¨linkMansæ—¶ï¼Œåœ¨å‘èµ·æŸ¥è¯¢ï¼ŒæŸ¥è¯¢æ‰€æœ‰çš„è”ç³»äººä¿¡æ¯ã€‚ä½†å¦‚æœæ˜¯ç«‹å³åŠ è½½ï¼Œåœ¨è°ƒç”¨ //getæ—¶ï¼Œå°±å·²ç»æŠŠæ‰€æœ‰è”ç³»æŸ¥å‡ºäº†ã€‚</span>
		<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>linkMans<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>


</div><div id="reward-container"><span class="hty-icon-button button-glow" id="reward-button" title="Donate" onclick="var qr = document.getElementById(&quot;qr&quot;); qr.style.display = (qr.style.display === &quot;none&quot;) ? &quot;block&quot; : &quot;none&quot;;"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-hand-coin-line"></use></svg></span><div id="reward-comment">ç»™ä¸ªé¥­é’±ï¼Ÿ</div><div id="qr" style="display:none;"><div style="display:inline-block"><a target="_blank" rel="noopener" href="https://i.loli.net/2020/12/23/J2Sv6rVeLtAPiHx.jpg"><img loading="lazy" src="https://i.loli.net/2020/12/23/J2Sv6rVeLtAPiHx.jpg" alt="æ”¯ä»˜å®" title="æ”¯ä»˜å®"></a><div><span style="color:#00A3EE"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-alipay-line"></use></svg></span></div></div><div style="display:inline-block"><a target="_blank" rel="noopener" href="https://i.loli.net/2020/12/23/4rBXF1deMD6KyN8.png"><img loading="lazy" src="https://i.loli.net/2020/12/23/4rBXF1deMD6KyN8.png" alt="QQ æ”¯ä»˜" title="QQ æ”¯ä»˜"></a><div><span style="color:#12B7F5"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-qq-line"></use></svg></span></div></div><div style="display:inline-block"><a target="_blank" rel="noopener" href="https://i.loli.net/2020/12/23/XvirFV3o6GyRMZU.png"><img loading="lazy" src="https://i.loli.net/2020/12/23/XvirFV3o6GyRMZU.png" alt="å¾®ä¿¡æ”¯ä»˜" title="å¾®ä¿¡æ”¯ä»˜"></a><div><span style="color:#2DC100"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-wechat-pay-line"></use></svg></span></div></div></div></div><ul class="post-copyright"><li class="post-copyright-author"><strong>Post author: </strong>Sovzn</li><li class="post-copyright-link"><strong>Post link: </strong><a href="http://sovzn.github.io/2021/07/15/%E5%A4%9A%E8%A1%A8%E6%93%8D%E4%BD%9C/" title="å¤šè¡¨æ“ä½œ">http://sovzn.github.io/2021/07/15/%E5%A4%9A%E8%A1%A8%E6%93%8D%E4%BD%9C/</a></li><li class="post-copyright-license"><strong>Copyright Notice: </strong>All articles in this blog are licensed under <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" target="_blank" rel="noopener" title="CC BY-NC-SA 4.0 "><svg class="icon"><use xlink:href="#icon-creative-commons-line"></use></svg><svg class="icon"><use xlink:href="#icon-creative-commons-by-line"></use></svg><svg class="icon"><use xlink:href="#icon-creative-commons-nc-line"></use></svg><svg class="icon"><use xlink:href="#icon-creative-commons-sa-line"></use></svg></a> unless otherwise stated.</li></ul></section></article><div class="post-nav"><div class="post-nav-item"><a class="post-nav-prev" href="/2021/07/19/Java8%E6%96%B0%E7%89%B9%E6%80%A7/" rel="prev" title="Java8æ–°ç‰¹æ€§"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-arrow-left-s-line"></use></svg><span class="post-nav-text">Java8æ–°ç‰¹æ€§</span></a></div><div class="post-nav-item"><a class="post-nav-next" href="/2021/07/13/JPA/" rel="next" title="JPA"><span class="post-nav-text">JPA</span><svg class="icon" aria-hidden="true"><use xlink:href="#icon-arrow-right-s-line"></use></svg></a></div></div></div><div id="comment"><div class="comment-tooltip text-center"><span>ç‚¹å‡»æŒ‰é’®è·³è½¬ GitHub Issues è¯„è®ºã€‚</span><br><span>è‹¥æ²¡æœ‰æœ¬æ–‡ Issueï¼Œæ‚¨å¯ä»¥ä½¿ç”¨ Comment æ¨¡ç‰ˆæ–°å»ºã€‚</span><br><a class="hty-button hty-button--raised" id="github-issues" target="_blank" rel="noopener" href="https://github.com/YunYouJun/yunyoujun.github.io/issues?q=is:issue+å¤šè¡¨æ“ä½œ">GitHub Issues</a></div></div></main><footer class="sidebar-translate" id="footer"><div class="copyright"><span>&copy; 2019 â€“ 2025 </span><span class="with-love" id="animate"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-cloud-line"></use></svg></span><span class="author"> Sovzn</span></div><div class="live_time"><span>æœ¬åšå®¢å·²è¿è¡Œ</span><span id="display_live_time"></span><span class="moe-text">(â—'â—¡'â—)</span><script>function blog_live_time() {
  window.setTimeout(blog_live_time, 1000);
  const start = new Date('2020-04-12T00:00:00');
  const now = new Date();
  const timeDiff = (now.getTime() - start.getTime());
  const msPerMinute = 60 * 1000;
  const msPerHour = 60 * msPerMinute;
  const msPerDay = 24 * msPerHour;
  const passDay = Math.floor(timeDiff / msPerDay);
  const passHour = Math.floor((timeDiff % msPerDay) / 60 / 60 / 1000);
  const passMinute = Math.floor((timeDiff % msPerHour) / 60 / 1000);
  const passSecond = Math.floor((timeDiff % msPerMinute) / 1000);
  display_live_time.innerHTML = " " + passDay + " å¤© " + passHour + " å°æ—¶ " + passMinute + " åˆ† " + passSecond + " ç§’";
}
blog_live_time();
</script></div></footer><a class="hty-icon-button" id="goUp" aria-label="back-to-top" href="#"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-arrow-up-s-line"></use></svg><svg class="progress-circle-container" viewBox="0 0 100 100"><circle class="progress-circle" id="progressCircle" cx="50" cy="50" r="48" fill="none" stroke="#6200ee" stroke-width="2" stroke-linecap="round"></circle></svg></a><a class="popup-trigger hty-icon-button icon-search" id="search" href="javascript:;" title="Search"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-search-line"></use></svg></span></a><script>window.addEventListener("DOMContentLoaded", () => {
  // Handle and trigger popup window
  document.querySelector(".popup-trigger").addEventListener("click", () => {
    document.querySelector(".popup").classList.add("show");
    setTimeout(() => {
      document.querySelector(".search-input").focus();
    }, 100);
  });

  // Monitor main search box
  const onPopupClose = () => {
    document.querySelector(".popup").classList.remove("show");
  };

  document.querySelector(".popup-btn-close").addEventListener("click", () => {
    onPopupClose();
  });

  window.addEventListener("keyup", event => {
    if (event.key === "Escape") {
      onPopupClose();
    }
  });
});
</script><script src="/js/search/local-search.js" defer></script><div class="popup search-popup"><div class="search-header"><span class="popup-btn-close close-icon hty-icon-button"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-close-line"></use></svg></span></div><div class="search-input-container"><input class="search-input" id="local-search-input" type="text" placeholder="Searching..." value=""></div><div id="local-search-result"></div></div></div><script defer src="/js/utils.js"></script><script defer src="/js/hexo-theme-yun.js"></script></body></html>